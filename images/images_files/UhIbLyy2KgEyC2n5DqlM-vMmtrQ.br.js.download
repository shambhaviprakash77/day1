var MobileIcon;(function(){function wi(){it()?(rt("Overlap"),e("Overlap")):wt("ResizeShow")}function it(){return(nt===null||nt===void 0?void 0:nt.offsetWidth)-((d===null||d===void 0?void 0:d.offsetWidth)+(g===null||g===void 0?void 0:g.offsetWidth)+ht)<ei}function f(){o("ClickPage");e("ClickPage")}function yt(t){t.key==="Escape"&&(h||w)&&(n&&n.focus(),o("EscapeKeydown"),e("EscapeKeydown"))}function bi(){var n;(n=_w.localStorage)===null||n===void 0?void 0:n.setItem(ci,"true")}function pt(n){Log.Log("Click","MobileIconV2","GetApp");Log.Log(u,i,"ClickPanel");n.stopPropagation();_w.open(lt,"blank")}function wt(t){n&&at&&(Lib.CssClass.remove(n,"b_hide"),Log.Log(u,i,ui,!1,"reason",t))}function rt(t){n&&Lib.CssClass.add(n,"b_hide");Log.Log(u,i,"HideIcon",!1,"reason",t)}function bt(t){if(!vt){ki();return}Log.Log(u,i,"ShowPanel",!1,"reason",t);ni();ur();n&&Lib.CssClass.add(n,"active");h=!0}function o(t){h&&(Log.Log(u,i,"HideFlyout",!1,"reason",t),ti(),n&&Lib.CssClass.remove(n,"active"),h=!1)}function e(n){if(w){var t=_qs("#id_mobbubpos");if(t){Log.Log(u,i,"HideBubble",!1,"reason",n);ti();Lib.CssClass.add(t,"b_hide");w=!1;return}}}function ki(){var i,t;sj_gx&&tt.length&&(i=void 0,i="".concat(tt,"&installuser=0}"),t=sj_gx(),t.onreadystatechange=function(){t.readyState==4&&t.status==200&&(vt=!0,n.insertAdjacentHTML("afterend",t.responseText),sb_st(function(){bt("fetchContent")},200))},t.open("GET",i,!0),t.send())}function di(){var r,t,f;_mobIconV2Config.EnableBub&&!p&&sj_gx&&v>0&&!_ge(et)?(r="/header/mobupsellbub?customtype=".concat(v),t=sj_gx(),t.onreadystatechange=function(){var r;p||t.readyState!=4||t.status!=200||_ge(et)||(n.insertAdjacentHTML("beforeend",t.responseText),_mobIconV2Config.IsHomepage&&((r=_qs("#id_mobbubpos"))===null||r===void 0?void 0:r.style.setProperty("--mob-icon-v2-arrow-right","88px")),w=!0,dt("".concat(ct).concat(v)),Log.Log(u,i,"ShowBubble"),ni())},t.open("GET",r,!0),t.send()):(f=kt(gt("".concat(ft)),hi),f&&sb_st(function(){Lib.CssClass.remove(k,"b_hide")},550))}function gi(n){return n<=0?Number.MAX_VALUE:Math.floor((Date.now()-n)/864e5)}function kt(n,t){return n<=0||gi(n)>t}function dt(n){var t;(t=_w.localStorage)===null||t===void 0?void 0:t.setItem(n,""+Date.now())}function ut(n){var i,r,t;try{return s==null&&(r=_w.location.href,t=r.split("?"),t&&t.length>1&&(s=new URLSearchParams(t[1]))),(i=s===null||s===void 0?void 0:s.get(n))===null||i===void 0?void 0:i.trim()}catch(u){return null}}function nr(){var n=10;switch(_mobIconV2Config.Type){case 20:case 30:default:lt=tr(_mobIconV2Config.EnableBub?yi:pi)}_mobIconV2Config.EnableBub&&!p&&kt(gt("".concat(ct).concat(n)),si)&&(v=n);tt="header/mobupsellfly?customtype=".concat(n)}function tr(n,t,r){var u,f;return t===void 0&&(t=!1),r===void 0&&(r=!1),i=n,u="".concat(r?vi:ai).concat(n),t&&(f=ut("q"),f&&(u+="&query=".concat(f))),u}function gt(n,t){var r,i;return(t===void 0&&(t=0),i=(r=_w.localStorage)===null||r===void 0?void 0:r.getItem(n),i&&i.length)?parseInt(i):t}function ir(){at=!0;n===null||n===void 0?void 0:n.setAttribute("href","#");n===null||n===void 0?void 0:n.removeAttribute("target");nr();wt("Initialize");di();rr()}function ni(){sj_be(_d,"click",f);sj_be(_w,"keydown",yt);c&&sj_be(c,"click",f);l&&sj_be(l,"click",f);a&&sj_be(a,"click",f)}function ti(){sj_ue(_d,"click",f);sj_ue(_d,"keydown",yt);c&&sj_ue(c,"click",f);l&&sj_ue(l,"click",f);a&&sj_ue(a,"click",f);t&&sj_ue(t,"click",ri);t&&sj_ue(t,"keypress",ii);t&&sj_ue(t,"keydown",b);r&&sj_ue(r,"keydown",b)}function ii(){n&&n.focus();o("KeypressCloseBtn")}function ri(n){n.stopPropagation();o("ClickCloseBtn")}function rr(){ot&&sj_be(ot,"click",bi);sj_be(n,"click",function(n){Log.Log("Click","MobileIconV2","HeaderMobileIcon_Clicked");n===null||n===void 0?void 0:n.stopPropagation();e("ClickMobileIcon");h?o("ClickMobileIcon"):(Log.Log(u,i,fi),bt("ClickMobileIcon"),k&&Lib.CssClass.add(k,"b_hide"),dt(ft))})}function ur(){t=_ge("id_mobpopclose");r=_ge("id_mobpopcta");var n=_ge("id_mobpopcntr");t&&sj_be(t,"click",ri);r&&sj_be(r,"click",function(n){return pt(n)});n&&sj_be(n,"click",function(n){return pt(n)});t&&sj_be(t,"keypress",ii);t&&sj_be(t,"keydown",b);r&&sj_be(r,"keydown",b)}function b(n){if(n.key==="Tab"){var u=_qs(":focus"),i;u==t?i=r:u==r&&(i=t);i&&(n.preventDefault(),i.focus())}}typeof _mobIconV2Config=="undefined"&&(_mobIconV2Config={Type:0,EnableBub:!1,IsHomepage:!1});var u="OpalUpsell",ui="Show",fi="Click",ei=50,ft="MOBILE_ICON_CLICK_DT",oi="#id_h",et="mfo_c_bsic_id",si=7,hi=7,n=_ge("id_mobile"),k=_qs("#mob_dot"),c=_qs("#id_l"),l=_qs("#id_rh"),d=_qs("#id_h"),g=_qs("#sb_form"),nt=_qs("#b_header"),a=_qs("#id_sc"),ot=_qs("#sb_sbi"),st=_ge("b_sh_btn"),ht=0;st&&(ht=st.offsetWidth+16);var ct="SA_BUBBLE_DATETIME_",ci="SEARCH_BOX_CAMERA_CLICKED",li="auth/getToken",ai="https://bingapp.microsoft.com/bing?at=",vi="https://bingapp.microsoft.com/bing-china?adjust=",yi="145n7748_14cbvzz1",pi="1fdlr3u9_1flts8sx",i="",v=0,lt="",tt="",y="",s=null,at=!1,p=!1,h=!1,vt=!1,w=!1,t,r;sj_evt.bind("bnp.embed.ready",function(n){var i=n[0],t=n[1];t.tar==oi&&(p=!0,e("BnpConflictDetected"),o("BnpConflictDetected"))});sj_evt.bind("hideSydFSC",function(){if(it()){rt("Overlap");e("Overlap");return}},!0);sj_be(_w,"resize",wi);it()&&(rt("Overlap"),e("Overlap"));ir()})(MobileIcon||(MobileIcon={}))